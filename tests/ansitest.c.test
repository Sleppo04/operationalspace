#include <stdio.h>
#include "../src/ui/window.h"

int main()
{
    window_t win;
    
    Window_CreateWindow(80, 24, &win);
	Window_SetCursorVisible(false);
    Window_ClearScreen();
	Window_SetPos(1, 1);
	Window_SetColor(7, 0);
	Window_SetUnderlined(true);
	printf("OperationalSpace Terminal Capability Test\n\n");
	Window_ResetFormatting();

	
	// Text Formatting Test
	printf("Test Normal\n");
	Window_SetBold(true);
	printf("Test Bold...");
	Window_SetBold(false);
	printf(" no longer bold.\n");
	Window_SetItalic(true);
	printf("Test Italic...");
	Window_SetItalic(false);
	printf(" no longer italic.\n");
	Window_SetUnderlined(true);
	printf("Test Underlined...");
	Window_SetUnderlined(false);
	printf(" no longer underlined.\n");
	Window_SetBlinking(true);
	printf("Test Blinking...");
	Window_SetBlinking(false);
	printf(" no longer blinking.\n");
	Window_SetInverse(true);
	printf("Test Inverse...");
	Window_SetInverse(false);
	printf(" no longer inverse.\n");
	Window_SetCrossedout(true);
	printf("Test Crossedout...");
	Window_SetCrossedout(false);
	printf(" no longer crossedout.\n");

	// 16 Color Test
	printf("\n16 Colors:\n");
	// Foreground
	for (int i = 0; i < 16; i++) {
		Window_SetColor(i, 0);
		printf(" %02i ", i);
	}
	Window_PrintGlyph('\n');
	// Background
	for (int i = 0; i < 16; i++) {
		Window_SetColor(0, i);
		printf(" %02i ", i);
	}
	Window_ResetColor();

	// SetPos test (even though it's already been used...)
	Window_SetPos(1, 16);
	printf("CUP (Cursor Position) Test... ");
	Window_SetBold(true);
	Window_SetColor(15, 1);
	printf("FAILED!");
	Window_SetPos(31, 16);
	Window_SetColor(15, 2);
	printf("PASSED!");

	Window_ResetColor();
	Window_SetPos(1, 23);
	printf("Hit <ENTER> to exit...");
    getchar();
    return 0;
}